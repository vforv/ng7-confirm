{"version":3,"sources":["ng://ng7-confirm/lib/ng7-confirm.service.ts","ng://ng7-confirm/lib/ng7-confirm.component.ts","ng://ng7-confirm/lib/ng7-confirm.directive.ts","ng://ng7-confirm/lib/ng7-confirm.module.ts"],"names":["Ng7ConfirmService","Object","defineProperty","prototype","this","_shouldContinue","asObservable","continue","dialogId","next","cancel","Injectable","args","providedIn","Subject","Ng7ConfirmComponent","ngOnInit","ng7ConfirmService","data","elRef","nativeElement","remove","Component","selector","template","ElementRef","Input","Ng7ConfirmDirective","_this","sub","shouldContinue","subscribe","onConfirm","emit","onCancel","ngOnDestroy","unsubscribe","performTask","componentFactory","componentFactoryResolver","resolveComponentFactory","componentRef","viewContainerRef","createComponent","question","title","render","appendChild","document","body","location","Directive","ViewContainerRef","ComponentFactoryResolver","Renderer2","Output","HostListener","EventEmitter","uuid","Ng7ConfirmModule","NgModule","declarations","entryComponents","imports","exports"],"mappings":"oUAAA,IAAAA,GASEC,OAAAC,eAAIF,EAAAG,UAAA,iBAAc,KAAlB,WACE,OAAOC,KAAKC,gBAAgBC,gDAOvBN,EAAAG,UAAAI,YAAP,SAAgBC,GACdJ,KAAKC,gBAAgBI,KAAK,CAAED,SAAQA,EAAED,YAAU,KAG3CP,EAAAG,UAAAO,OAAP,SAAcF,GACZJ,KAAKC,gBAAgBI,KAAK,CAAED,SAAQA,EAAED,YAAU,yBAnBnDI,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,uJASZ,SAAAb,IACEI,KAAKC,gBAAkB,IAAIS,EAAAA,QCd/B,IAAAC,GAwCEA,EAAAZ,UAAAa,SAAA,aAGOD,EAAAZ,UAAAI,YAAP,WACEH,KAAKa,kBAAkBV,YAASH,KAAKc,KAAKV,UAC1CJ,KAAKe,MAAMC,cAAcC,UAGpBN,EAAAZ,UAAAO,OAAP,WACEN,KAAKa,kBAAkBP,OAAON,KAAKc,KAAKV,UACxCJ,KAAKe,MAAMC,cAAcC,8BA/C5BC,EAAAA,UAASV,KAAA,CAAC,CACTW,SAAU,kBACVC,SAAU,g0LAJHxB,SADmByB,EAAAA,4CA8BzBC,EAAAA,SAuBHX,GAfE,SAAAA,EAAoBE,EAA8CE,GAA9Cf,KAAAa,kBAAAA,EAA8Cb,KAAAe,MAAAA,ECtCpE,IAAAQ,GA8BEA,EAAAxB,UAAAa,SAAA,WAAA,IAAAY,EAAAxB,KACEA,KAAKyB,IAAMzB,KAAKa,kBAAkBa,eAC/BC,UAAS,SAAEb,GACLA,EAAKX,aAAYW,EAAKV,WAAaoB,EAAKpB,SAElCU,EAAKX,aAAYW,EAAKV,WAAaoB,EAAKpB,UACjDoB,EAAKI,UAAUC,OAFfL,EAAKM,SAASD,UAOtBN,EAAAxB,UAAAgC,YAAA,WACM/B,KAAKyB,KACPzB,KAAKyB,IAAIO,eAKNT,EAAAxB,UAAAkC,YADP,eAEQC,EAAmBlC,KAAKmC,yBAAyBC,wBACrDzB,GAEI0B,EAAerC,KAAKsC,iBAAiBC,gBAAgBL,GAC1DG,EAAqB,SAAEvB,KAAO,CAC7BX,WAAUH,KAAKG,YACfG,OAAQN,KAAKM,OACbkC,SAAUxC,KAAKwC,SACfC,MAAOzC,KAAKyC,MACZrC,SAAUJ,KAAKI,UAEjBJ,KAAK0C,OAAOC,YAAYC,SAASC,KAAMR,EAAaS,SAAS9B,oCAtDhE+B,EAAAA,UAASvC,KAAA,CAAC,CACTW,SAAU,4DAP6C6B,EAAAA,wBAAkBC,EAAAA,gCAA3CC,EAAAA,iBAEvBtD,yCAQN0B,EAAAA,sBACAA,EAAAA,wBACAA,EAAAA,qBACAA,EAAAA,yBACA6B,EAAAA,yBACAA,EAAAA,4BAgCAC,EAAAA,aAAY5C,KAAA,CAAC,YAgBhBe,GA5CE,SAAAA,EACUe,EACAH,EACAO,EACA7B,GAHAb,KAAAsC,iBAAAA,EACAtC,KAAAmC,yBAAAA,EACAnC,KAAA0C,OAAAA,EACA1C,KAAAa,kBAAAA,EAbDb,KAAAG,YAAmB,WACnBH,KAAAM,OAAiB,SACjBN,KAAAwC,SAAmB,+CACnBxC,KAAAyC,MAAgB,iBAYvBzC,KAAK4B,UAAY,IAAIyB,EAAAA,aACrBrD,KAAK8B,SAAW,IAAIuB,EAAAA,aACpBrD,KAAKI,SAAWkD,EAAAA,KC3BpB,IAAAC,uBAICC,EAAAA,SAAQhD,KAAA,CAAC,CACRiD,aAAc,CAAC9C,EAAqBY,GACpCmC,gBAAiB,CAAC/C,GAClBgD,QAAS,GAETC,QAAS,CAACrC,OAEoBgC,GAPhC,SAAAA","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class Ng7ConfirmService {\n  private _shouldContinue: Subject<{ dialogId: string; continue: boolean }>;\n\n  get shouldContinue() {\n    return this._shouldContinue.asObservable();\n  }\n\n  constructor() {\n    this._shouldContinue = new Subject<{ dialogId: string; continue: boolean }>();\n  }\n\n  public continue(dialogId: string) {\n    this._shouldContinue.next({ dialogId, continue: true });\n  }\n\n  public cancel(dialogId: string) {\n    this._shouldContinue.next({ dialogId, continue: false });\n  }\n\n}\n","import { Component, OnInit, ElementRef, Input } from '@angular/core';\nimport { Ng7ConfirmService } from './ng7-confirm.service';\n\n@Component({\n  selector: 'lib-ng7-confirm',\n  template: `\n        <div (click)=\"cancel()\" class=\"overlay\"></div>\n        <div class=\"confirm-box\">\n        <div class=\"confirm-box-content\">\n          <div class=\"icon\"><span><img\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKrSURBVGhD7ZhPSFRRFIdHE0TDRUIZFhRBULTIXW7CRSC4i2pR0SKCSCho48pltgraBbUzMGjRJgmCoEW0CFKqjRBRiyQiokipsMia6Tv3/rg2U4LaODNH7geHO+fPu/d7IOObV8hkMplMZi1TLBa7SqXSSdb9KvkD+U3ENDcS4PMxtXyB+C3dQ4D8hlp+QPqQ/BPUzqjtA4Q7iXfyD5A/YlmnER8gfD3YC27iO7FbbR8gPCD/BLVhtX2AcAeRvqUM8qcsLRrxAdLXon6E/AdLj9o+QLqPKMZbiJCOqO0DnNuRfhX1I+RTRKtGfIDwZfkHyH8S+9T2AcK9Jq57CNiNqe0DhFuJKfkHyF8SbRrxAcIj8g+QG31q+wDvHqTt6zVBfkVtH+DcgvSTqB8hnyY6NOIDhIflHyA3+tX2Ad67kP4WbyFCPqp29WHzIeIL8YLoVfm/wLmZvexxPEH+lmWDRqoLm3cR6XGBj3PEEbVXDHuc15Z/clDt6sOB9lt5XgcFyH8RQxpZNmyxg+u/xt0i5DfVXj045JzJ68wEtassy/qlxnwT190PGwjyD8RGjawuHHSYmNPZCWp3iSV/VTJ7WpcmqB1VuzZwoD0Lvdf5CWrPiC0aWxRmtjI+G6+KUBtXu7Zwtv19P48aC1B7Q+zV2D+hf0fjAfJPRLfatYfDO/F4EHUWoP6ZGNBYGdRPaCxB7ZTa9QMJe1odk1OC2jwxqLEAuX3zfdRIgPweS5NG6ouJIHQhmFVA/RJLEOVz5VtC++e6LWzSSOBmL5bLnl4NuwHiuNIEtbO6tPFA7gAxI9cEtcqXCA9ZGuNPajGQ3EO8jsp/Q88eb3ZqvLHBdzOyk1G9HOorfqypCwivJ27LP0D+mMXXi2fDpJG/yDrLOsG6Xa1MJpPJrEUKhd8Js3UMxQ4aggAAAABJRU5ErkJggg==\"></span>\n          </div>\n          <div class=\"confirm-title\">\n            <h3>{{data.title}}</h3>\n          </div>\n          <div class=\"confirm-body\">\n            <p>\n             {{data.question}}\n            </p>\n          </div>\n          <div class=\"btn-ctrl\">\n          <button class=\"btn-cancel\" (click)=\"cancel()\">{{data.cancel}}</button>\n            <button class=\"btn-success\" (click)=\"continue()\">{{data.continue}}</button>\n          </div>\n        </div>\n      </div>\n  `,\n  styleUrls: ['./style.css']\n})\nexport class Ng7ConfirmComponent implements OnInit {\n  @Input() data: {\n    continue: string;\n    cancel: string;\n    question: string;\n    title: string;\n    dialogId: string;\n  };;\n  // *ngIf=\"ngFancyHost.viewContainerRef.length > 0\" (click)=\"closeAlertComponent()\"\n  constructor(private ng7ConfirmService: Ng7ConfirmService, private elRef: ElementRef) { }\n\n  ngOnInit() {\n  }\n\n  public continue() {\n    this.ng7ConfirmService.continue(this.data.dialogId);\n    this.elRef.nativeElement.remove();\n  }\n\n  public cancel() {\n    this.ng7ConfirmService.cancel(this.data.dialogId);\n    this.elRef.nativeElement.remove();\n  }\n\n}\n","import { Directive, ElementRef, Renderer2, HostListener, ViewContainerRef, ComponentFactoryResolver, Output, EventEmitter, OnInit, OnDestroy, Input } from '@angular/core';\nimport { Ng7ConfirmComponent } from './ng7-confirm.component';\nimport { Ng7ConfirmService } from './ng7-confirm.service';\nimport { Subscription } from 'rxjs';\nimport { v4 as uuid } from 'uuid';\n\n@Directive({\n  selector: '[ng7Confirm]'\n})\nexport class Ng7ConfirmDirective implements OnInit, OnDestroy {\n  @Input() continue: string = 'Continue';\n  @Input() cancel: string = 'Cancel';\n  @Input() question: string = 'Are you sure you want to continue execution?';\n  @Input() title: string = 'Confirm Dialog';\n  @Output() onConfirm: EventEmitter<any>;\n  @Output() onCancel: EventEmitter<any>;\n  public sub: Subscription;\n  public dialogId: string;\n\n  constructor(\n    private viewContainerRef: ViewContainerRef,\n    private componentFactoryResolver: ComponentFactoryResolver,\n    private render: Renderer2,\n    private ng7ConfirmService: Ng7ConfirmService\n  ) {\n    this.onConfirm = new EventEmitter();\n    this.onCancel = new EventEmitter();\n    this.dialogId = uuid();\n  }\n\n  ngOnInit() {\n    this.sub = this.ng7ConfirmService.shouldContinue\n      .subscribe((data: { dialogId: string; continue: boolean }) => {\n        if (!data.continue && data.dialogId === this.dialogId) {\n          this.onCancel.emit();\n        } else if (data.continue && data.dialogId === this.dialogId) {\n          this.onConfirm.emit();\n        }\n      });\n  }\n\n  ngOnDestroy() {\n    if (this.sub) {\n      this.sub.unsubscribe();\n    }\n  }\n\n  @HostListener('click')\n  public performTask() {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(\n      Ng7ConfirmComponent,\n    );\n    const componentRef = this.viewContainerRef.createComponent(componentFactory);\n    (componentRef.instance).data = {\n      continue: this.continue,\n      cancel: this.cancel,\n      question: this.question,\n      title: this.title,\n      dialogId: this.dialogId\n    };\n    this.render.appendChild(document.body, componentRef.location.nativeElement);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Ng7ConfirmComponent } from './ng7-confirm.component';\nimport { Ng7ConfirmDirective } from './ng7-confirm.directive';\n\n@NgModule({\n  declarations: [Ng7ConfirmComponent, Ng7ConfirmDirective],\n  entryComponents: [Ng7ConfirmComponent],\n  imports: [\n  ],\n  exports: [Ng7ConfirmDirective]\n})\nexport class Ng7ConfirmModule { }\n"]}